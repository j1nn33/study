##### Security

```
SPIFFE

SPIFFE – это спецификация фреймворка, способного генерировать и выпускать идентификационные данные. 
SPIRE (среда выполнения SPIFFE) является эталонной реализацией сообщества SPIFFE,
а Citadel (бывшая Istio Auth) является второй реализацией. 
Спецификация SPIFFE описывает три понятия:
- идентификаторы в форме URI, используемые сервисами для связи;
- стандарт преобразования этого идентификатора в криптографически 
  проверяемый документ (Verifiable Identity Document SPIFFE, SVID);
- API для выпуска и извлечения SVID (Workload API).

Istio создает сертификат X.509, содержащий в поле альтернативного имени субъекта (SAN) уникальный идентификатор ресурса (URI), описывающий сервис.

Istio использует учетную запись сервиса в поде и встраивает ее в URI:

# spiffe://trust-domain/path
spiffe://ClusterName/ns/Namespace/sa/ServiceAccountName

spiffe://cluster.local/ns/default/sa/default 
«ns» – сокращение от «namespce» (пространство имен)
«sa» – сокращение от «service account» (учетная запись сервиса)

В Kubernetes под (pod) будет использовать учетную запись по умолчанию для 
пространства имен, в котором он установлен, если поле ServiceAccount не задано 
в спецификации пода. Это означает, что все сервисы в одном пространстве имен 
будут иметь общую идентификацию, если не настроить отдельные учетные записи 
для каждого сервиса.
```