BASH

#### Условия 


#### -----------------------------------

##### Условия 
---bash
$?  - возвращает значение команыд 0 - ОК 
 
if cmd
then
   some cmds
else
   other cmds
fi



if ls | grep pdf
then
   echo "found one or more pdf files here"
else
   echo "no pdf files found"
fi

# В случае конвейера при проверке на успех/неудачу именно последняя команда
# определяет, будет ли выбрана true-ветвь.
 ls | grep pdf | wc
# Эта серия команд будет «истинной», даже если команда grep не найдет строку pdf


if [[ -e $FILENAME ]]
then
   echo $FILENAME exists
fi

# Оператор проверки файлов 
# -d   Проверка, существует ли каталог
# -e   Проверка, существует ли файл
# -r   Проверка, существует ли файл и доступен ли он для чтения
# -w   Проверка, существует ли файл и доступен ли он для записи
# -x   Проверка, существует ли файл и является ли он исполняемым

# Для.проверки.того,.что.переменная.$VAL.меньше.переменной.$MIN,.введите.следующее:

if [[ $VAL -lt $MIN ]]
then
   echo "value is too small"
fi

# -eq  Тест на равенство между числами
# -gt  Проверка, больше ли одно число, чем другое
# -lt  Проверка, меньше ли одно число, чем другое

if (( VAL < 12 ))
then
   echo "value $VAL is too small"
fi


if (( $? )) ; then echo "previous command failed" ; fi
# сделает то, что вы хотите/ожидаете, — если предыдущая команда завершилась 
# неудачно, то $? будет содержать ненулевое значение; внутри (( )) ненулевое 
# значение будет истинным и ветвь then будет выполнена.



# В bash может даже принимать решения о ветвлении без явной конструкции 
# if/then  Команды обычно разделяются новой строкой, то есть вводятся по 
# одной команде на строку  Можно достичь того же эффекта, разделяя их точкой 
# с запятой  Если вы пишете cd $DIR ; ls, bash сначала выполнит команду cd, а затем команду ls 
# Две команды также могут быть разделены символами && или ||  Если вы напишете 
# cd $DIR && ls, команда ls будет выполняться только в случае успешного выполнения 
# команды cd  Аналогично, если вы введете cd $DIR || echo cd failed, сообщение 
# будет напечатано только в случае сбоя команды cd 
# Вы можете использовать синтаксис [[ для выполнения различных тестов, даже без 
# задания в явном виде if:

[[ -d $DIR ]] && ls "$DIR"

# Это работает так же, как если бы вы написали следующее:

if [[ -d $DIR ]]
then
   ls "$DIR"
fi

---
